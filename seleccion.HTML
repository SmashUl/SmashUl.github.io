<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="script.js"></script>
  <title>Smash</title>
</head>

<body>
  <div class="div-header">
    <img src="assets/reiniciar.png" width="80px" align="left" onclick="recargar()"/>
    <img src="assets/SmashBall.png" width="100px" align="right" onclick="location.href='index.HTML'" />
  </div>

  <script>
    function recargar(){
        window.location.reload()
    }

    var enabled = false;
    var seleccionadoImagen3 = false
    var seleccionadoImagen12 = false
    var seleccionadoImagen14 = false

    function enable(){
        enabled = true;
    }

    function disable(){
        enabled = false;
    }

    personajes = new Array();
    iconos = new Array();
    nombres = ['Mario', 'DonkeyKong', 'Link', 'Samus',
      'SamusOscura', 'Yoshi', 'Kirby', 'Fox',
      'Pikachu', 'Luigi', 'Ness', 'CaptainFalcon',
      'Jigglypuff', 'Peach', 'Daisy', 'Bowser',
      'IceClimbers', 'Sheik', 'Zelda', 'DrMario',
      'Pichu', 'Falco', 'Marth', 'Lucina', 'YoungLink',
      'Ganondorf', 'Mewtwo', 'Roy', 'Chrom', 'MrGame&Watch',
      'MetaKnight', 'Pit', 'PitSombrio', 'SamusZero',
      'Wario', 'Snake', 'Ike', 'EntrenadorPokémon',
      'DiddyKong', 'Lucas', 'Sonic', 'ReyDedede', 'Olimar',
      'Lucario', 'ROB', 'ToonLink', 'Wolf', 'Aldeano',
      'MegaMan', 'EntrenadoradeWiiFit', 'EstelayDestello',
      'LittleMac', 'Greninja', 'LuchadoresMii', 'Palutena',
      'PacMan', 'Daraen', 'Shulk', 'Bowsy', 'DuoDuckHunt',
      'Ryu', 'Ken', 'Cloud', 'Corrin', 'Bayonetta', 'Inkling',
      'Ridley', 'SimonBelmont', 'RichterBelmont', 'KingKRool',
      'Canela', 'Incineroar', 'PlantaPiraña', 'Joker', 'Heroe',
      'BanjoyKazooie', 'Terry', 'Byleth', 'MinMin', 'Steve',
      'Sefirot', 'Pyra', 'Mythra', 'Kazuya', 'Sora']
    nombresAux = nombres

    let personajeIcono = new Map();
    personajeIcono.set("Mario", "Mario");
    personajeIcono.set("DonkeyKong", "DonkeyKong");
    personajeIcono.set("Link", "LegendofZelda");
    personajeIcono.set("Samus", "Metroid");
    personajeIcono.set("SamusOscura", "Metroid");
    personajeIcono.set("Yoshi", "Yoshi");
    personajeIcono.set("Kirby", "Kirby");
    personajeIcono.set("Fox", "StarFox");
    personajeIcono.set("Pikachu", "Pokemon");
    personajeIcono.set("Luigi", "Mario");
    personajeIcono.set("Ness", "EarthBound");
    personajeIcono.set("CaptainFalcon", "FZero");
    personajeIcono.set("Jigglypuff", "Pokemon");
    personajeIcono.set("Peach", "Mario");
    personajeIcono.set("Daisy", "Mario");
    personajeIcono.set("Bowser", "Mario");
    personajeIcono.set("IceClimbers", "IceClimber");
    personajeIcono.set("Sheik", "LegendofZelda");
    personajeIcono.set("Zelda", "LegendofZelda");
    personajeIcono.set("DrMario", "Mario");
    personajeIcono.set("Pichu", "Pokemon");
    personajeIcono.set("Falco", "StarFox");
    personajeIcono.set("Marth", "FireEmblem");
    personajeIcono.set("Lucina", "FireEmblem");
    personajeIcono.set("YoungLink", "LegendofZelda");
    personajeIcono.set("Ganondorf", "LegendofZelda");
    personajeIcono.set("Mewtwo", "Pokemon");
    personajeIcono.set("Roy", "FireEmblem");
    personajeIcono.set("Chrom", "FireEmblem");
    personajeIcono.set("MrGame&Watch", "Watch");
    personajeIcono.set("MetaKnight", "Kirby");
    personajeIcono.set("Pit", "KidIcarus");
    personajeIcono.set("PitSombrio", "KidIcarus");
    personajeIcono.set("SamusZero", "Metroid");
    personajeIcono.set("Wario", "Wario");
    personajeIcono.set("Snake", "MetalGear");
    personajeIcono.set("Ike", "FireEmblem");
    personajeIcono.set("EntrenadorPokémon", "Pokemon");
    personajeIcono.set("DiddyKong", "DonkeyKong");
    personajeIcono.set("Lucas", "EarthBound");
    personajeIcono.set("Sonic", "Sonic");
    personajeIcono.set("ReyDedede", "Kirby");
    personajeIcono.set("Olimar", "Pikmin");
    personajeIcono.set("Lucario", "Pokemon");
    personajeIcono.set("ROB", "ROB");
    personajeIcono.set("ToonLink", "LegendofZelda");
    personajeIcono.set("Wolf", "StarFox");
    personajeIcono.set("Aldeano", "AnimalCrossing");
    personajeIcono.set("MegaMan", "MegaMan");
    personajeIcono.set("EntrenadoradeWiiFit", "WiiFit");
    personajeIcono.set("EstelayDestello", "Mario");
    personajeIcono.set("LittleMac", "PunchOut");
    personajeIcono.set("Greninja", "Pokemon");
    personajeIcono.set("LuchadoresMii", "SmashBros");
    personajeIcono.set("Palutena", "KidIcarus");
    personajeIcono.set("PacMan", "PacMan");
    personajeIcono.set("Daraen", "FireEmblem");
    personajeIcono.set("Shulk", "Xenoblade");
    personajeIcono.set("Bowsy", "Mario");
    personajeIcono.set("DuoDuckHunt", "DuckHunt");
    personajeIcono.set("Ryu", "StreetFighter");
    personajeIcono.set("Ken", "StreetFighter");
    personajeIcono.set("Cloud", "FinalFantasy");
    personajeIcono.set("Corrin", "FireEmblem");
    personajeIcono.set("Bayonetta", "Bayonetta");
    personajeIcono.set("Inkling", "Splatoon");
    personajeIcono.set("Ridley", "Metroid");
    personajeIcono.set("SimonBelmont", "Castlevania");
    personajeIcono.set("RichterBelmont", "Castlevania");
    personajeIcono.set("KingKRool", "DonkeyKong");
    personajeIcono.set("Canela", "AnimalCrossing");
    personajeIcono.set("Incineroar", "Pokemon");
    personajeIcono.set("PlantaPiraña", "Mario");
    personajeIcono.set("Joker", "Persona");
    personajeIcono.set("Heroe", "DragonQuest");
    personajeIcono.set("BanjoyKazooie", "BanjoKazooie");
    personajeIcono.set("Terry", "FatalFury");
    personajeIcono.set("Byleth", "FireEmblem");
    personajeIcono.set("MinMin", "ARMS");
    personajeIcono.set("Steve", "Minecraft");
    personajeIcono.set("Sefirot", "FinalFantasy");
    personajeIcono.set("Pyra", "Xenoblade");
    personajeIcono.set("Mythra", "Xenoblade");
    personajeIcono.set("Kazuya", "Kazuya");
    personajeIcono.set("Sora", "KingdomHearts");


    for (var i = 0; i < personajes.length; i++) {
      personajes[i] = [`assets/Personajes Smash/${nombres[i]}.png`];
    }

    document.addEventListener("DOMContentLoaded", function () {
        for (var i = 0; i < nombres.length; i++) {
            personajes[i] = [`assets/Personajes Smash/${nombres[i]}.png`];
            document.getElementById("3").innerHTML += "<option value='" + personajes[i] + "'> " + nombres[i] + "</option>";
            document.getElementById("12").innerHTML += "<option value='" + personajes[i] + "'> " + nombres[i] + "</option>";
            document.getElementById("14").innerHTML += "<option value='" + personajes[i] + "'> " + nombres[i] + "</option>";
          }
      });

    function cambiarImagen() {
        if(seleccionadoImagen3 == seleccionadoImagen12 == seleccionadoImagen14){
            for (var i = 1; i < 17; i++) {
                nombresAux = personajes.splice((Math.floor(Math.random() * personajes.length)), 1)
                if (i != 3 && i != 12 && i != 14) {
                     $(`#imagen${i}`).attr('src', nombresAux[Math.floor(Math.random() * nombresAux.length)]);
                 }
            }
            enable()
        }
        else{
            swal("Importante!", "Debes seleccionar primero un jugador en las casillas 3, 12 y 14!", "Info");
        }
    }

    function establecerImagen3() {
        var nom = document.getElementById(`3`).value;
          $(`#imagen3`).attr('src', `assets/Personajes Smash/${nom.value}.png`);
          var foundIndex = nombres.indexOf(nom);
            if (foundIndex !== -1) {
                var removedItem = personajes.splice(foundIndex, 1);
                console.log(removedItem);
            }
        seleccionadoImagen3 = true
    }

    document.addEventListener("DOMContentLoaded", function () {
    function establecerImagen12() {
      
        document.querySelectorAll(".click").forEach(el => {
          el.addEventListener("click", e => {
            const id = e.target.getAttribute("id");
            var nom = document.getElementById(`image12`);

              $(`#image${id}`).attr('src', `assets/Personajes Smash/${nom.value}.png`);
              var found = personajes.find((element) => element == `assets/Personajes Smash/${nom.value}.png`);
              nombresAux = personajes.splice(found, 1)
          })
        })
        seleccionadoImagen12 = true
      }

      function establecerImagen14() {
      
        document.querySelectorAll(".click").forEach(el => {
          el.addEventListener("click", e => {
            const id = e.target.getAttribute("id");
            var nom = document.getElementById(`image14`).value;
              $(`#image${id}`).attr('src', `assets/Personajes Smash/${nom}.png`);
              var found = personajes.find((element) => element == `assets/Personajes Smash/${nom}.png`);
              nombresAux = personajes.splice(found, 1)
          })
        })
        seleccionadoImagen14 = true
      }
    });

    /*function clickOnContenedor(disparador,id){
        if(oculto){
            $(`#${disparador}`).click(function() {
                $(`#${id}`).show('slow');
                });
                oculto = false;
        }
        else{
            $(`#${disparador}`).click(function() {
                $(`#${id}`).hide(1500);
                });
                oculto = true;
        }
    }*/

    function clickOnContenedor(event, src){
        if(enabled){
            const id = event;
            $(`#${id}`).attr('src', `assets/completado.png`);
        }
        else{
            disable()
        }
    }

  </script>

  <div class="contenedor" id="cont-princ">
    <table style="width: 100%;" class="fixed-table">
      <tbody>
        <tr>
          <td class="flex-td">
            <figure>
              <img id="imagen1" src="assets/random.png" onclick="clickOnContenedor('imagen1','assets/SmashBall.png')"/>
            </figure>
          </td>
          <td class="flex-td">
            <figure>
              <img id="imagen2" src="assets/random.png" onclick="clickOnContenedor('imagen2','assets/SmashBall.png')"/>
            </figure>
          </td>
          <td class="flex-td">
            <figure>
              <img id="imagen3" src="assets/random.png" onclick="establecerImagen3()"/>
              <div class="capa">
                <select name="3" id="3">
                    <option value=""></option>
                </select>
              </div>
            </figure>
          </td>
          <td class="flex-td">
            <figure>
              <img id="imagen4" src="assets/random.png" onclick="clickOnContenedor('imagen4','assets/SmashBall.png')"/>
            </figure>
          </td>
        </tr>
        <tr>
          <td class="flex-td">
            <figure>
              <img id="imagen5" src="assets/random.png" onclick="clickOnContenedor('imagen5','assets/SmashBall.png')"/>
            </figure>
          </td>
          <td class="flex-td">
            <figure>
              <img id="imagen6" src="assets/random.png" onclick="clickOnContenedor('imagen6','assets/SmashBall.png')"/>
            </figure>
          </td>
          <td class="flex-td">
            <figure>
              <img id="imagen7" src="assets/random.png" onclick="clickOnContenedor('imagen7','assets/SmashBall.png')"/>
            </figure>
          </td>
          <td class="flex-td">
            <figure>
              <img id="imagen8" src="assets/random.png" onclick="clickOnContenedor('imagen8','assets/SmashBall.png')"/>
            </figure>
          </td>
        </tr>
        <tr>
          <td class="flex-td">
            <figure>
              <img id="imagen9" src="assets/random.png" onclick="clickOnContenedor('imagen9','assets/SmashBall.png')"/>
            </figure>
          </td>
          <td class="flex-td">
            <figure>
              <img id="imagen10" src="assets/random.png" onclick="clickOnContenedor('imagen10','assets/SmashBall.png')"/>
            </figure>
          </td>
          <td class="flex-td">
            <figure>
              <img id="imagen11" src="assets/random.png" onclick="clickOnContenedor('imagen11','assets/SmashBall.png')"/>
            </figure>
          </td>
          <td class="flex-td">
            <figure>
              <img id="imagen12" src="assets/random.png"/>
              <div class="capa">
                <select name="12" id="12">
                  <option value=""></option>
                </select>
              </div>
            </figure>
          </td>
        </tr>
        <tr>
          <td class="flex-td">
            <figure>
              <img id="imagen13" src="assets/random.png" onclick="clickOnContenedor('imagen13','assets/SmashBall.png')"/>
            </figure>
          </td>
          <td class="flex-td">
            <figure>
              <img id="imagen14" src="assets/random.png"/>
              <div class="capa">
                <select name= "14" id="14">
                  <option value=""></option>
                </select>
              </div>
            </figure>
          </td>
          <td class="flex-td">
            <figure>
              <img id="imagen15" src="assets/random.png" onclick="clickOnContenedor('imagen15','assets/SmashBall.png')"/>
            </figure>
          </td>
          <td class="flex-td">
            <figure>
              <img id="imagen16" src="assets/random.png" onclick="clickOnContenedor('imagen16','assets/SmashBall.png')"/>
            </figure>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <br><br><br>
  <div class="wrapper2">
    <button id="boton" onclick="cambiarImagen()">
      A Jugar!
      <span></span>
      <span></span>
      <span></span>
      <span></span>
    </button>
  </div>
</body>

</html>